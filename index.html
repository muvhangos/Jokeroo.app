<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>ğŸ˜‚ Joke App</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
/* Body & Theme */
body{
  margin:0;padding:0;font-family:Arial;
  display:flex;justify-content:center;align-items:center;
  height:100vh;
  background:linear-gradient(135deg,#667eea,#764ba2);
  overflow:hidden;
}
body.dark{background:#111;color:#fff}

/* Phone Frame */
.phone{
  width:340px;
  height:620px;
  background:#222;
  border-radius:50px;
  box-shadow:0 20px 50px rgba(0,0,0,.5);
  padding:10px;
  position:relative;
  display:flex;flex-direction:column;
  align-items:center;
}

/* Screen */
.screen{
  background:#f5f5f5;
  border-radius:40px;
  width:100%;
  height:100%;
  padding:20px;
  text-align:center;
  overflow:hidden;
  position:relative;
  transition:0.3s;
}
body.dark .screen{background:#1f1f1f;color:#fff}

/* Joke Box */
#joke{
  background:#fff;
  border-radius:15px;
  padding:15px;
  min-height:160px;
  overflow:auto;
  margin-bottom:10px;
  text-align:left;
  line-height:1.4;
  position:relative;z-index:2;
}
body.dark #joke{background:#333;color:#fff}

/* Buttons */
button{
  padding:12px;
  border:none;
  border-radius:12px;
  color:#fff;
  margin:4px 0;
  cursor:pointer;
  width:100%;
  transition:0.3s;
}
button:hover{transform:scale(1.03);}
button:active{transform:scale(0.95);}

/* Controls */
.controls{
  display:flex;gap:5px;flex-wrap:wrap;margin-top:5px;
}
.small-btn{
  font-size:12px;
  flex:1;
  border-radius:12px;
  color:white;
}

/* Credit */
.credit{
  font-size:8px;color:#999;margin-top:6px;position:relative;z-index:2;
}

/* Hearts */
.heart{
  position:absolute;
  width:20px;
  height:20px;
  background:red;
  transform:rotate(45deg);
  animation: floatUp 2s linear forwards;
  z-index:1;
}
.heart:before, .heart:after{
  content:"";
  position:absolute;
  width:20px;height:20px;
  background:red;
  border-radius:50%;
}
.heart:before{top:-10px;left:0;}
.heart:after{top:0;left:-10px;}
@keyframes floatUp{
  0%{opacity:1;transform:translate(0,0) rotate(45deg);}
  100%{opacity:0;transform:translate(var(--x,0px),-150px) rotate(45deg);}
}

/* Glitter */
.glitter{
  position:absolute;
  width:4px;height:4px;
  background:rgba(255,255,255,0.9);
  border-radius:50%;
  pointer-events:none;
  animation: glitterMove 2s linear infinite;
  z-index:1;
}
@keyframes glitterMove{
  0% {opacity:0; transform:translate(0,0) scale(1);}
  50% {opacity:1; transform:translate(calc(50px*var(--randX)),-20px) scale(1.2);}
  100% {opacity:0; transform:translate(calc(100px*var(--randX)),-50px) scale(0.5);}
}
</style>
</head>
<body>
<div class="phone">
  <div class="screen">
    <h2>ğŸ˜‚ Joke App</h2>
    <div id="joke">Tap Get Joke ğŸ˜„</div>

    <button id="getJokeBtn">ğŸ˜‚ Get Joke</button>
    <button onclick="copyJoke()">ğŸ“‹ Copy</button>
    <button onclick="shareJoke()">ğŸ”— Share</button>

    <div class="controls">
      <button class="small-btn" onclick="setCategory('funny')">ğŸ˜‚ Funny</button>
      <button class="small-btn" onclick="setCategory('love')">â¤ï¸ Love</button>
      <button class="small-btn" onclick="setCategory('romantic')">ğŸ’– Romantic</button>
      <button class="small-btn" onclick="toggleDark()">ğŸŒ™ Dark</button>
    </div>

    <div class="credit">Property of WinTech Technology</div>
  </div>
</div>

<!-- Sounds -->
<audio id="funnySound" src="https://actions.google.com/sounds/v1/cartoon/wood_plank_flicks.ogg"></audio>
<audio id="loveSound" src="https://actions.google.com/sounds/v1/cartoon/pop.ogg"></audio>
<audio id="romanticSound" src="https://actions.google.com/sounds/v1/ambiences/heartbeat.ogg"></audio>

<script>
// Jokes (150) - shortened here for brevity, use full array from previous code
const jokeDiv = document.getElementById("joke");
let currentCategory = "funny";

// Include full jokes object here (funny, love, romantic) like previous code

const sounds = {
  funny: document.getElementById("funnySound"),
  love: document.getElementById("loveSound"),
  romantic: document.getElementById("romanticSound")
};

function playSound(){
  const sound = sounds[currentCategory];
  sound.currentTime = 0;
  sound.play().catch(()=>{});
}

function setCategory(cat){
  currentCategory = cat;
  updateTheme(cat);
  getJoke();
}

function updateTheme(cat){
  const btn = document.getElementById("getJokeBtn");
  if(cat==="funny"){
    btn.style.background="linear-gradient(145deg,#ff758c,#ff7eb3)";
  }else if(cat==="love"){
    btn.style.background="linear-gradient(145deg,#ff4e50,#f9d423)";
  }else if(cat==="romantic"){
    btn.style.background="linear-gradient(145deg,#ff6eb4,#ffb6c1)";
  }
}

function getJoke(){
  playSound();
  const arr = jokes[currentCategory];
  if(!arr || arr.length===0){ jokeDiv.innerText="No jokes ğŸ˜…"; return; }
  const idx = Math.floor(Math.random()*arr.length);
  jokeDiv.innerText = arr[idx];
  jokeDiv.scrollTop = 0;

  if(currentCategory==="love" || currentCategory==="romantic"){
    createHearts();
    if(currentCategory==="romantic"){ createGlitter(); }
  }
}

function copyJoke(){
  playSound();
  navigator.clipboard.writeText(jokeDiv.innerText).then(()=>alert("Copied ğŸ“‹"));
}

function shareJoke(){
  playSound();
  if(navigator.share){
    navigator.share({title:"ğŸ˜‚ Joke App", text:jokeDiv.innerText});
  } else {
    navigator.clipboard.writeText(jokeDiv.innerText);
    alert("Sharing not supported. Joke copied ğŸ‘");
  }
}

function toggleDark(){ document.body.classList.toggle("dark"); }

function createHearts(){
  const num = 5+Math.floor(Math.random()*5);
  for(let i=0;i<num;i++){
    const heart = document.createElement("div");
    heart.classList.add("heart");
    heart.style.left=Math.random()*80+"%";
    heart.style.setProperty('--x',(Math.random()*100-50)+'px');
    document.querySelector('.screen').appendChild(heart);
    setTimeout(()=>heart.remove(),2000);
  }
}

function createGlitter(){
  for(let i=0;i<10;i++){
    const g=document.createElement("div");
    g.className="glitter";
    g.style.left=Math.random()*100+"%";
    g.style.top=Math.random()*100+"%";
    g.style.setProperty("--randX",Math.random());
    document.querySelector('.screen').appendChild(g);
    setTimeout(()=>g.remove(),2000);
  }
}

document.getElementById("getJokeBtn").addEventListener("click", getJoke);

// Swipe on mobile
let startY;
jokeDiv.addEventListener("touchstart", e=>{ startY=e.touches[0].clientY; });
jokeDiv.addEventListener("touchend", e=>{
  let endY=e.changedTouches[0].clientY;
  if(startY-endY>50){ getJoke(); }
});
</script>
</body>
</html>
