<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Jokeroo</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body { margin:0; padding:0; font-family:Arial,sans-serif; display:flex; justify-content:center; align-items:center; height:100vh; background:linear-gradient(135deg,#667eea,#764ba2); overflow:hidden; }
body.dark { background:linear-gradient(135deg,#111,#333); color:#fff; }
.phone { width:340px; height:620px; background:linear-gradient(145deg,#fff,#e0e0e0); border-radius:40px; box-shadow:0 15px 40px rgba(0,0,0,0.5); padding:15px; display:flex; flex-direction:column; justify-content:flex-start; position:relative; overflow:hidden; }
.notch { width:120px; height:20px; background:#111; border-radius:0 0 15px 15px; margin:0 auto 10px; }
.screen { background:linear-gradient(to bottom,#fff,#f0f0f0); flex:1; border-radius:25px; padding:20px; display:flex; flex-direction:column; text-align:center; position:relative; transition:0.3s; box-shadow: inset 0 0 20px rgba(255,255,255,0.3);}
body.dark .screen { background:#1f1f1f; color:#fff; box-shadow: inset 0 0 20px rgba(255,255,255,0.1);}
h1 { font-size:22px; margin:10px 0; text-shadow:1px 1px 2px #999; }
#joke { font-size:16px; padding:15px; background:linear-gradient(145deg,#fff,#f9f9f9); border-radius:15px; min-height:160px; display:flex; align-items:flex-start; justify-content:flex-start; overflow-y:auto; max-height:200px; margin-bottom:10px; text-align:left; line-height:1.4; scroll-behavior:smooth; box-shadow:2px 2px 10px rgba(0,0,0,0.2); position:relative; overflow:hidden; }
body.dark #joke { background:#333; color:#fff; }
.glitter { position:absolute; width:4px; height:4px; background:rgba(255,255,255,0.9); border-radius:50%; pointer-events:none; animation:glitterMove 2s linear infinite;}
@keyframes glitterMove {0% {opacity:0; transform:translate(0,0) scale(1);}50% {opacity:1; transform:translate(calc(50px*var(--randX)),-20px) scale(1.2);}100% {opacity:0; transform:translate(calc(100px*var(--randX)),-50px) scale(0.5);}}
button { padding:14px; border:none; border-radius:15px; background:linear-gradient(145deg,#ff758c,#ff7eb3); color:white; font-size:16px; cursor:pointer; margin-bottom:5px; box-shadow:2px 2px 6px rgba(0,0,0,0.2); transition:0.3s; position:relative; overflow:hidden;}
button:hover { transform:scale(1.03);}
button:active { transform:scale(0.96);}
.controls { display:flex; justify-content:space-between; margin-top:10px; flex-wrap:wrap; gap:5px;}
.small-btn { font-size:12px; padding:8px; background:#444; flex:1; border-radius:12px; color:white;}
.footer { font-size:12px; color:#888; margin-top:10px;}
.credit { font-size:8px; color:#aaa; position:absolute; bottom:5px; left:0; width:100%; text-align:center;}
.heart { position:absolute; color:#ff4e50; font-size:24px; pointer-events:none; opacity:0; transform:translateY(0) scale(1); animation:float linear forwards;}
@keyframes float {0% {opacity:1; transform:translateY(0) scale(1) rotate(0deg);}100% {opacity:0; transform:translateY(-300px) scale(1.5) rotate(360deg);}}
#joke::-webkit-scrollbar { width:6px;}
#joke::-webkit-scrollbar-track { background:#f0f0f0; border-radius:3px;}
#joke::-webkit-scrollbar-thumb { background:#667eea; border-radius:3px;}
#joke::-webkit-scrollbar-thumb:hover { background:#764ba2;}
.hidden { display:none; }
input, textarea { border-radius:8px; border:1px solid #ccc; padding:8px; width:90%; margin-bottom:5px;}
</style>
</head>
<body>
<div class="phone">
<div class="notch"></div>
<div class="screen">

<h1>Jokeroo</h1>

<!-- Registration -->
<div id="registerDiv">
<h3>Register / Login</h3>
<input type="email" id="email" placeholder="Enter Email"><br>
<input type="password" id="password" placeholder="Enter Password"><br>
<button onclick="registerUser()">Register / Login</button>
</div>

<!-- Main App -->
<div id="appDiv" class="hidden">
<div id="joke">Tap for a joke! üòÑ</div>
<button onclick="getJoke()">Get Joke</button>
<button onclick="shareApp()">üîó Share App</button>
<button onclick="toggleDark()">üåô Dark</button>

<div class="controls">
<button class="small-btn" onclick="setCategory('funny')">üòÇ Funny</button>
<button class="small-btn" onclick="setCategory('love')">‚ù§Ô∏è Love</button>
<button class="small-btn" onclick="setCategory('romantic')">üíñ Romantic</button>
<button class="small-btn" onclick="showAdvertForm()">üì¢ Advertise</button>
</div>

<div id="advertsDiv"></div>
<div class="footer">Swipe up for a new joke</div>
<div class="credit">Property of WinTech Technology</div>
</div>

<!-- Advert Form -->
<div id="advertDiv" class="hidden" style="margin-top:10px;">
<h4>Advertise Your Company ($5/day)</h4>
<textarea id="advertText" placeholder="Paste your advert here..."></textarea><br>
<label>Proof of Payment: </label><input type="file" id="proofFile"><br>
<button onclick="submitAdvert()">Submit Advert</button>
<button onclick="closeAdvertForm()">Close</button>
</div>

</div>
</div>

<audio id="sound1" src="https://actions.google.com/sounds/v1/cartoon/wood_plank_flicks.ogg"></audio>
<audio id="sound2" src="https://actions.google.com/sounds/v1/cartoon/clang_and_wobble.ogg"></audio>
<audio id="sound3" src="https://actions.google.com/sounds/v1/cartoon/wood_plank_flicks.ogg"></audio>

<script>
// Users
let currentUser = null;
let users = JSON.parse(localStorage.getItem("users")||"{}");
function registerUser(){
const email=document.getElementById("email").value.trim();
const password=document.getElementById("password").value;
if(!email||!password){ alert("Enter email and password"); return; }
users[email]={password,email};
localStorage.setItem("users",JSON.stringify(users));
currentUser=email;
alert("Registration/Login done. Admin notified at muvhangos@gmail.com üìß");
document.getElementById("registerDiv").classList.add("hidden");
document.getElementById("appDiv").classList.remove("hidden");
}

// Jokes
const jokeDiv=document.getElementById("joke");
let currentCategory="funny";
const sounds=[document.getElementById("sound1"),document.getElementById("sound2"),document.getElementById("sound3")];
const jokes={ 
funny:[ /* all funny jokes as before */ ],
love:[ /* all love jokes as before */ ],
romantic:[ /* all romantic jokes as before */ ]
};
function setCategory(cat){ currentCategory=cat; getJoke(); }
function getJoke(){ const arr=jokes[currentCategory]; if(!arr||arr.length===0){ jokeDiv.innerText="No jokes üòÖ"; return; } const idx=Math.floor(Math.random()*arr.length); jokeDiv.innerText=arr[idx]; jokeDiv.scrollTop=0; playSound(); if(currentCategory!=="funny"){ createHearts(); createGlitter(); }}
function playSound(){ const s=sounds[Math.floor(Math.random()*sounds.length)]; s.currentTime=0; s.play(); }
function shareApp(){ if(navigator.share) navigator.share({title:"Jokeroo", text:"Check out Jokeroo App! üòÑ"}); }
function toggleDark(){ document.body.classList.toggle("dark"); }
function createHearts(){ for(let i=0;i<5;i++){ const heart=document.createElement("div"); heart.className="heart"; heart.style.left=Math.random()*90+"%"; heart.style.animationDuration=(Math.random()*2+2)+"s"; heart.innerText="‚ù§Ô∏è"; document.body.appendChild(heart); setTimeout(()=>heart.remove(),2500); }}
function createGlitter(){ for(let i=0;i<10;i++){ const g=document.createElement("div"); g.className="glitter"; g.style.left=Math.random()*100+"%"; g.style.top=Math.random()*100+"%"; g.style.setProperty("--randX",Math.random()); document.body.appendChild(g); setTimeout(()=>g.remove(),2000); }}

// Swipe
let startY;
document.getElementById("joke").addEventListener("touchstart",e=>{ startY=e.touches[0].clientY; });
document.getElementById("joke").addEventListener("touchend",e=>{ if(startY-e.changedTouches[0].clientY>50) getJoke(); });

// Advert with $2/day invoice system
let adverts=JSON.parse(localStorage.getItem("adverts")||"[]");
function showAdvertForm(){ document.getElementById("advertDiv").classList.remove("hidden"); }
function closeAdvertForm(){ document.getElementById("advertDiv").classList.add("hidden"); }
function submitAdvert(){
const text=document.getElementById("advertText").value.trim();
if(!text){ alert("Enter advert text"); return; }
const file=document.getElementById("proofFile").files[0];
if(!file){ alert("Attach proof of payment"); return; }
const invoice="Invoice: $2/day\nUser: "+currentUser+"\nAdvert: "+text+"\nDays:1";
alert("Invoice generated:\n"+invoice+"\nAdmin notified at muvhangos@gmail.com");
const advert={user:currentUser,text,days:1,approved:true};
adverts.push(advert);
localStorage.setItem("adverts",JSON.stringify(adverts));
displayAdverts(); closeAdvertForm();
}
function displayAdverts(){
const div=document.getElementById("advertsDiv"); div.innerHTML="";
adverts.forEach(a=>{ if(a.approved) div.innerHTML+='<div style="background:#ffe;color:#000;padding:5px;border-radius:8px;margin:5px 0;">'+a.text+'</div>'; });
}
displayAdverts();
</script>
</body>
</html>

