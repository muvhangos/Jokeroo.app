<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>ğŸ˜‚ Joke App</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;padding:0;font-family:Arial;
  display:flex;justify-content:center;align-items:center;
  height:100vh;background:linear-gradient(135deg,#667eea,#764ba2);
  overflow:hidden;
}
body.dark{background:#111;color:#fff}

.phone{
  width:340px;height:620px;background:#fff;border-radius:40px;
  box-shadow:0 15px 40px rgba(0,0,0,.5);padding:15px;position:relative;
}
.screen{
  background:#f5f5f5;border-radius:25px;height:100%;
  padding:20px;text-align:center;overflow:hidden;
}
body.dark .screen{background:#1f1f1f}

#joke{
  background:#fff;border-radius:15px;padding:15px;
  min-height:160px;overflow:auto;margin-bottom:10px;
  text-align:left;line-height:1.4;position:relative;z-index:2;
}
body.dark #joke{background:#333;color:#fff}

button{
  padding:12px;border:none;border-radius:12px;
  background:linear-gradient(145deg,#ff758c,#ff7eb3);
  color:#fff;margin:4px;cursor:pointer;
  width:100%;
}
.controls{
  display:flex;gap:5px;flex-wrap:wrap;
}
.small-btn{
  font-size:12px;background:#444;flex:1;
}
.credit{
  font-size:8px;color:#999;margin-top:6px;
  position:relative;z-index:2;
}

/* Heart Animation */
.heart{
  position:absolute;
  width:20px;height:20px;
  background: red;
  transform: rotate(45deg);
  animation: floatUp 2s linear forwards;
  z-index:1;
}
.heart:before, .heart:after{
  content:"";
  position:absolute;
  width:20px;height:20px;
  background:red;
  border-radius:50%;
}
.heart:before{top:-10px;left:0;}
.heart:after{top:0;left:-10px;}
@keyframes floatUp{
  0%{opacity:1;transform:translate(0,0) rotate(45deg);}
  100%{opacity:0;transform:translate(var(--x,0px),-150px) rotate(45deg);}
}
</style>
</head>

<body>
<div class="phone">
<div class="screen">

<h2>ğŸ˜‚ Joke App</h2>

<div id="joke">Tap Get Joke ğŸ˜„</div>

<button onclick="getJoke()">ğŸ˜‚ Get Joke</button>
<button onclick="copyJoke()">ğŸ“‹ Copy</button>
<button onclick="shareJoke()">ğŸ”— Share</button>

<div class="controls">
  <button class="small-btn" onclick="setCategory('funny')">ğŸ˜‚ Funny</button>
  <button class="small-btn" onclick="setCategory('love')">â¤ï¸ Love</button>
  <button class="small-btn" onclick="setCategory('romantic')">ğŸ’– Romantic</button>
  <button class="small-btn" onclick="toggleDark()">ğŸŒ™ Dark</button>
</div>

<div class="credit">Property of WinTech Technology</div>
</div>
</div>

<audio id="clickSound" preload="auto">
  <source src="https://actions.google.com/sounds/v1/cartoon/wood_plank_flicks.ogg">
</audio>

<script>
const jokeDiv = document.getElementById("joke");
const sound = document.getElementById("clickSound");
let currentCategory = "funny";

// All jokes (same as previous full 150 jokes)
const jokes = {
  funny:[/* 50 Funny jokes here */],
  love:[/* 50 Love jokes here */],
  romantic:[/* 50 Romantic jokes here */]
};

function playSound(){
  sound.currentTime = 0;
  sound.play().catch(()=>{});
}

function setCategory(cat){ 
  playSound(); 
  currentCategory = cat; 
  getJoke(); 
}

function getJoke(){
  playSound();
  const arr = jokes[currentCategory];
  if(!arr || arr.length === 0){ jokeDiv.innerText = "No jokes ğŸ˜…"; return; }
  const idx = Math.floor(Math.random()*arr.length);
  jokeDiv.innerText = arr[idx];

  // If category is Love or Romantic, create hearts
  if(currentCategory === "love" || currentCategory === "romantic"){
    createHearts();
  }
}

function copyJoke(){ 
  playSound(); 
  navigator.clipboard.writeText(jokeDiv.innerText).then(()=>alert("Copied ğŸ“‹")); 
}

function shareJoke(){ 
  playSound();
  if(navigator.share){ 
    navigator.share({title:"ğŸ˜‚ Joke App", text:jokeDiv.innerText}); 
  } else { 
    navigator.clipboard.writeText(jokeDiv.innerText); 
    alert("Sharing not supported. Joke copied ğŸ‘"); 
  }
}

function toggleDark(){ 
  playSound(); 
  document.body.classList.toggle("dark"); 
}

// Heart Animation
function createHearts(){
  const numHearts = 5 + Math.floor(Math.random()*5); // 5-10 hearts
  for(let i=0;i<numHearts;i++){
    const heart = document.createElement("div");
    heart.classList.add("heart");
    heart.style.left = Math.random()*80 + "%";
    heart.style.setProperty('--x',(Math.random()*100-50)+'px');
    document.querySelector('.screen').appendChild(heart);
    setTimeout(()=>heart.remove(),2000);
  }
}
</script>

</body>
</html>
